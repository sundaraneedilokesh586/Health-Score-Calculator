<!DOCTYPE html>
<html>
<head>
    <title>Health Score Calculator</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background: #f0f7ff;
            text-align: center;
            padding: 20px;
        }
        .box {
            background: white;
            width: 350px;
            margin: auto;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0px 0px 10px #b2c8ff;
        }
        input, select {
            width: 90%;
            padding: 8px;
            margin: 6px;
            border-radius: 8px;
            border: 1px solid #a0a0a0;
        }
        button {
            padding: 10px 20px;
            margin-top: 10px;
            border: none;
            background: #007bff;
            color: white;
            border-radius: 8px;
            cursor: pointer;
        }
        /* Score Indicator Bar */
        .indicator {
            width: 100%;
            height: 18px;
            background: #e0e0e0;
            border-radius: 10px;
            margin-top: 12px;
            overflow: hidden;
        }
        .indicator-inner {
            height: 100%;
            width: 0%;
            border-radius: 10px;
            transition: width 0.5s;
        }
    </style>
</head>
<body>

<h2>Cloud Health Score Calculator</h2>

<div class="box">
    <input id="name" type="text" placeholder="Your Name"><br>
    <input id="age" type="number" placeholder="Age"><br>
    <input id="height" type="number" placeholder="Height (cm)"><br>
    <input id="weight" type="number" placeholder="Weight (kg)"><br>
    <input id="steps" type="number" placeholder="Daily Steps"><br>
    <input id="sleep" type="number" placeholder="Sleep Hours"><br>

    <select id="smoke">
        <option value="0">Do you smoke? (Select)</option>
        <option value="yes">Yes</option>
        <option value="no">No</option>
    </select><br>

    <select id="alcohol">
        <option value="0">Do you drink alcohol? (Select)</option>
        <option value="yes">Yes</option>
        <option value="no">No</option>
    </select><br>

    <button onclick="calculate()">Calculate Score</button>

    <div class="indicator">
        <div id="indicatorInner" class="indicator-inner"></div>
    </div>

    <h3 id="result"></h3>
</div>

<script>
function getColorForScore(score) {
    if (score >= 80) return "#2ecc71"; // green
    if (score >= 60) return "#f1c40f"; // yellow
    if (score >= 40) return "#e67e22"; // orange
    return "#e74c3c"; // red
}

function calculate() {
    let name = document.getElementById("name").value;
    let age = parseInt(document.getElementById("age").value);
    let height = parseFloat(document.getElementById("height").value);
    let weight = parseFloat(document.getElementById("weight").value);
    let steps = parseInt(document.getElementById("steps").value);
    let sleep = parseFloat(document.getElementById("sleep").value);
    let smoke = document.getElementById("smoke").value;
    let alcohol = document.getElementById("alcohol").value;

    if (!name || isNaN(age) || isNaN(height) || isNaN(weight) || 
        isNaN(steps) || isNaN(sleep) || smoke === "0" || alcohol === "0") {
        alert("Please fill all fields correctly.");
        return;
    }

    let bmi = weight / ((height / 100) * (height / 100));

    let stepScore = Math.min((steps / 10000) * 40, 40);
    let sleepScore = Math.min((sleep / 8) * 30, 30);
    let bmiScore = (bmi >= 18.5 && bmi <= 24.9) ? 30 : 15;

    let habitPenalty = 0;
    if (smoke === "yes") habitPenalty -= 10;
    if (alcohol === "yes") habitPenalty -= 10;

    let finalScore = Math.round(stepScore + sleepScore + bmiScore + habitPenalty);
    finalScore = Math.max(0, Math.min(100, finalScore));

    let color = getColorForScore(finalScore);

    document.getElementById("indicatorInner").style.width = finalScore + "%";
    document.getElementById("indicatorInner").style.background = color;

    let suggestion = "";
    if(finalScore >= 80) suggestion = "Excellent health! Keep it up.";
    else if(finalScore >= 60) suggestion = "Good health! Stay consistent.";
    else if(finalScore >= 40) suggestion = "Average. Try improving exercise and sleep.";
    else suggestion = "Poor! Improve diet, exercise and sleep.";

    if (smoke === "yes") suggestion += " Quit smoking.";
    if (alcohol === "yes") suggestion += " Reduce alcohol.";

    document.getElementById("result").style.color = color;
    document.getElementById("result").innerHTML =
        name + ", your Health Score is: <b>" + finalScore + "%</b><br>" +
        "BMI: " + bmi.toFixed(1) + "<br>" + suggestion;
}
</script>

</body>
</html>